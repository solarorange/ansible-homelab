---
# Immich Photo Management Deployment
# Production-ready configuration with comprehensive monitoring, backup, and security

- name: Include Immich role
  ansible.builtin.include_role:
    name: immich
  tags: [immich, media]

- name: Display Immich deployment summary
  ansible.builtin.debug:
    msg: |
      Immich Photo Management Setup Complete:
      
      Components Deployed:
      - Immich Server (Backend API)
      - Immich Web (Frontend Interface)
      - PostgreSQL Database (Metadata)
      - Redis Cache (Sessions & Caching)
      - Machine Learning Service (AI Features)
      
      Features Enabled:
      - Traefik Integration with SSL/TLS
      - Authentik Authentication
      - Prometheus Monitoring
      - Grafana Dashboards
      - Automated Backup System
      - Security Hardening
      - Homepage Integration
      - Comprehensive Alerting
      
      Management:
      - Role-based deployment with tags
      - Automated health monitoring
      - Scheduled backups
      - Security monitoring
      
      Access URLs:
      - Web Interface: https://immich.{{ domain }}
      - API: https://immich.{{ domain }}/api
      - Health Check: https://immich.{{ domain }}/api/health
      
      Next Steps:
      1. Access the web interface at https://immich.{{ domain }}
      2. Create your first admin account
      3. Configure photo upload settings
      4. Set up mobile app connection
      5. Configure backup schedules
      6. Review monitoring dashboards 