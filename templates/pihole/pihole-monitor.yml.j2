# Pi-hole Prometheus Monitoring Configuration
# Generated by Ansible

scrape_configs:
  - job_name: 'pihole'
    static_configs:
      - targets: ['pihole:80']
    metrics_path: '/admin/api.php'
    params:
      stats: ['true']
    scheme: 'http'
    scrape_interval: 30s
    scrape_timeout: 10s
    relabel_configs:
      - source_labels: [__address__]
        target_label: instance
        replacement: 'pihole'
      - source_labels: [__param_stats]
        target_label: stats
        action: replace

  - job_name: 'pihole_dns'
    static_configs:
      - targets: ['pihole:53']
    metrics_path: '/metrics'
    scheme: 'http'
    scrape_interval: 30s
    scrape_timeout: 10s
    relabel_configs:
      - source_labels: [__address__]
        target_label: instance
        replacement: 'pihole_dns' 