# Automation Role Defaults

# General
automation_enabled: true
automation_stack_name: "automation"
automation_timezone: "UTC"
automation_domain: "{{ domain }}"
automation_username: "{{ username }}"
automation_puid: "1000"
automation_pgid: "1000"

# Container Management
container_updater_enabled: true
container_updater_schedule: "0 4 * * *"  # Daily at 4 AM
container_updater_log_level: "info"
container_updater_cleanup: true

# Home Automation
home_automation_enabled: true
home_assistant_enabled: true
home_assistant_port: 8123
home_assistant_config_dir: "{{ docker_data_root }}/homeassistant/config"
home_assistant_ssl_dir: "{{ docker_data_root }}/homeassistant/ssl"
home_assistant_backup_dir: "{{ backup_root }}/homeassistant"
home_assistant_log_file: "{{ docker_data_root }}/homeassistant/config/home-assistant.log"
home_assistant_backup_schedule: "0 2 * * *"
zigbee2mqtt_enabled: true
zigbee2mqtt_port: 8080
zigbee2mqtt_data_dir: "{{ docker_data_root }}/zigbee2mqtt/data"
zigbee2mqtt_backup_dir: "{{ backup_root }}/zigbee2mqtt"
zigbee2mqtt_log_file: "{{ docker_data_root }}/zigbee2mqtt/data/log.txt"
zigbee2mqtt_backup_schedule: "30 2 * * *"
node_red_enabled: true
node_red_port: 1880
n8n_enabled: true
n8n_port: 5678

# Scheduling
scheduling_enabled: true

# Monitoring Integration
automation_monitoring_enabled: true
automation_metrics_enabled: true
automation_health_check_enabled: true
automation_health_check_interval: 30
automation_prometheus_enabled: true
automation_grafana_enabled: true
automation_loki_enabled: true
automation_alerting_enabled: true
automation_alerting_provider: "alertmanager"
automation_alerting_webhook: "http://alertmanager:9093/api/v1/alerts"

# Security
automation_security_enabled: true
automation_crowdsec_enabled: true
automation_fail2ban_enabled: true
automation_fail2ban_jail: "automation"
automation_fail2ban_max_retry: 5
automation_fail2ban_bantime: 3600

# Backup
automation_backup_enabled: true
automation_backup_schedule: "0 3 * * *"
automation_backup_retention: 7
automation_backup_compression: true

# Vault Integration
automation_vault_enabled: true
automation_vault_path: "secret/automation"
automation_vault_secrets:
  - "home_assistant_api_key"
  - "zigbee2mqtt_mqtt_password"
  - "node_red_admin_password"
  - "n8n_api_key"

# Homepage Integration
automation_homepage_enabled: true
automation_homepage_category: "Automation"
automation_homepage_description: "Home & Workflow Automation"
automation_homepage_icon: "automation.png"
automation_homepage_widget_enabled: true

# Resource Limits
automation_memory_limit: "2g"
automation_cpu_limit: "1.0"
automation_storage_limit: "20g" 