title: {{ homepage_title }}
description: {{ homepage_description }}
theme: {{ homepage_theme }}
layout: default
language: {{ homepage_language }}
units: {{ homepage_units }}
timezone: {{ homepage_timezone }}
background: {{ homepage_background }}
favicon: {{ homepage_favicon }}
icons: {{ homepage_icons }}

widgets:
{% for widget in homepage_widgets %}
  - {{ widget }}
{% endfor %}

{% if homepage_weather_enabled %}
weather:
  lat: {{ homepage_weather_lat }}
  lon: {{ homepage_weather_lon }}
  api_key: {{ homepage_weather_api_key }}
{% endif %}

{% if homepage_api_enabled %}
api:
  enabled: true
  port: {{ homepage_api_port }}
  secret: {{ homepage_api_secret }}
{% endif %}

{% if homepage_security_headers_enabled %}
security:
  headers:
    enabled: true
    content_security_policy: "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https:;"
    x_frame_options: "SAMEORIGIN"
    x_content_type_options: "nosniff"
    referrer_policy: "strict-origin-when-cross-origin"
{% endif %}

{% if homepage_cache_enabled %}
cache:
  enabled: true
  ttl: {{ homepage_cache_ttl }}
{% endif %}

{% if homepage_compression_enabled %}
compression:
  enabled: true
  level: 6
{% endif %}

{% if homepage_rate_limiting_enabled %}
rate_limiting:
  enabled: true
  window_ms: 900000
  max_requests: 100
{% endif %}

{% if homepage_cors_enabled %}
cors:
  enabled: true
  origin: "*"
  methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
  allowed_headers: ["Content-Type", "Authorization"]
{% endif %} 