# ErsatzTV Environment Configuration
# Generated by Ansible - Do not edit manually

# Basic Configuration
TZ={{ timezone }}
PUID={{ user_id | default(1000) }}
PGID={{ group_id | default(1000) }}

# ErsatzTV Configuration
ERSATZTV_CONFIG_DIR=/config
ERSATZTV_DATA_DIR=/data
ERSATZTV_LOGS_DIR=/logs
ERSATZTV_TRANSCODE_DIR=/transcode
ERSATZTV_CACHE_DIR=/cache

# Database Configuration
{% if ersatztv_database_enabled %}
ERSATZTV_DATABASE_TYPE={{ ersatztv_database_type }}
ERSATZTV_DATABASE_HOST={{ ersatztv_database_host }}
ERSATZTV_DATABASE_PORT={{ ersatztv_database_port }}
ERSATZTV_DATABASE_NAME={{ ersatztv_database_name }}
ERSATZTV_DATABASE_USERNAME={{ ersatztv_database_username }}
ERSATZTV_DATABASE_PASSWORD_FILE=/run/secrets/ERSATZTV_DATABASE_PASSWORD
{% endif %}

# Hardware Acceleration
{% if ersatztv_hardware_acceleration == "vaapi" %}
VAAPI_DEVICE={{ ersatztv_vaapi_device }}
{% endif %}

{% if ersatztv_hardware_acceleration == "nvenc" %}
NVIDIA_VISIBLE_DEVICES={{ ersatztv_nvidia_visible_devices }}
{% endif %}

# Transcoding Configuration
ERSATZTV_TRANSCODING_ENABLED={{ ersatztv_transcoding_enabled | lower }}
ERSATZTV_TRANSCODING_PROFILE={{ ersatztv_transcoding_profile }}
ERSATZTV_TRANSCODING_THREADS={{ ersatztv_transcoding_threads }}

# Streaming Configuration
ERSATZTV_STREAMING_ENABLED={{ ersatztv_streaming_enabled | lower }}
ERSATZTV_STREAMING_PROFILE={{ ersatztv_streaming_profile }}
ERSATZTV_STREAMING_THREADS={{ ersatztv_streaming_threads }}

# Channel Configuration
ERSATZTV_CHANNELS_ENABLED={{ ersatztv_channels_enabled | lower }}
ERSATZTV_CHANNELS_AUTO_START={{ ersatztv_channels_auto_start | lower }}

# Filler Configuration
ERSATZTV_FILLER_ENABLED={{ ersatztv_filler_enabled | lower }}
ERSATZTV_FILLER_DURATION={{ ersatztv_filler_duration }}

# Subtitle Configuration
ERSATZTV_SUBTITLES_ENABLED={{ ersatztv_subtitles_enabled | lower }}
ERSATZTV_SUBTITLES_LANGUAGE={{ ersatztv_subtitles_language }}

# Music Configuration
ERSATZTV_MUSIC_ENABLED={{ ersatztv_music_enabled | lower }}
ERSATZTV_MUSIC_FADE_DURATION={{ ersatztv_music_fade_duration }}

# Cache Configuration
ERSATZTV_CACHE_ENABLED={{ ersatztv_cache_enabled | lower }}
ERSATZTV_CACHE_SIZE={{ ersatztv_cache_size }}

# Network Configuration
ERSATZTV_NETWORK_INTERFACE={{ ersatztv_network_interface }}
ERSATZTV_NETWORK_TIMEOUT={{ ersatztv_network_timeout }}

# Performance Configuration
ERSATZTV_PERFORMANCE_MODE={{ ersatztv_performance_mode }}
ERSATZTV_PERFORMANCE_THREADS={{ ersatztv_performance_threads }}

# Integration Configuration
{% if ersatztv_plex_integration_enabled %}
ERSATZTV_PLEX_URL={{ ersatztv_plex_url }}
ERSATZTV_PLEX_TOKEN_FILE=/run/secrets/ERSATZTV_PLEX_TOKEN
{% endif %}

{% if ersatztv_jellyfin_integration_enabled %}
ERSATZTV_JELLYFIN_URL={{ ersatztv_jellyfin_url }}
ERSATZTV_JELLYFIN_API_KEY={{ ersatztv_jellyfin_api_key }}
{% endif %}

{% if ersatztv_emby_integration_enabled %}
ERSATZTV_EMBY_URL={{ ersatztv_emby_url }}
ERSATZTV_EMBY_API_KEY={{ ersatztv_emby_api_key }}
{% endif %}

# Security Configuration
ERSATZTV_SECURITY_ENABLED={{ ersatztv_security_enabled | lower }}
ERSATZTV_SECURITY_API_KEY_FILE=/run/secrets/ERSATZTV_SECURITY_API_KEY

# Monitoring Configuration
{% if ersatztv_prometheus_enabled %}
ERSATZTV_PROMETHEUS_ENABLED=true
ERSATZTV_PROMETHEUS_PORT={{ ersatztv_prometheus_port }}
ERSATZTV_PROMETHEUS_PATH={{ ersatztv_prometheus_path }}
{% endif %}

# Logging Configuration
ERSATZTV_LOGGING_LEVEL={{ ersatztv_logging_level }}
ERSATZTV_LOGGING_FORMAT={{ ersatztv_logging_format }}

# Backup Configuration
ERSATZTV_BACKUP_ENABLED={{ ersatztv_backup_enabled | lower }}
ERSATZTV_BACKUP_RETENTION={{ ersatztv_backup_retention }}

# Custom Environment Variables
{% for env_var in ersatztv_environment %}
{{ env_var }}
{% endfor %} 