# Pinchflat Environment Configuration
# Generated by Ansible - Do not edit manually

# =============================================================================
# BASIC CONFIGURATION
# =============================================================================

# Service Configuration
PINCHFLAT_ENABLED={{ pinchflat_enabled | lower }}
PINCHFLAT_VERSION={{ pinchflat_version }}
PINCHFLAT_PORT={{ pinchflat_port }}

# Domain Configuration
PINCHFLAT_DOMAIN={{ pinchflat_domain }}
PINCHFLAT_SUBDOMAIN={{ pinchflat_subdomain }}

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================

PINCHFLAT_AUTH_ENABLED={{ pinchflat_auth_enabled | lower }}
PINCHFLAT_AUTH_METHOD={{ pinchflat_auth_method }}
PINCHFLAT_ADMIN_EMAIL={{ pinchflat_admin_email }}
PINCHFLAT_ADMIN_PASSWORD_FILE=/run/secrets/PINCHFLAT_ADMIN_PASSWORD
PINCHFLAT_SECRET_KEY_FILE=/run/secrets/PINCHFLAT_SECRET_KEY

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

PINCHFLAT_DATABASE_ENABLED={{ pinchflat_database_enabled | lower }}
PINCHFLAT_DATABASE_TYPE={{ pinchflat_database_type }}
{% if pinchflat_database_type == "postgresql" %}
PINCHFLAT_DATABASE_HOST={{ pinchflat_database_host }}
PINCHFLAT_DATABASE_PORT={{ pinchflat_database_port }}
PINCHFLAT_DATABASE_NAME={{ pinchflat_database_name }}
PINCHFLAT_DATABASE_USER={{ pinchflat_database_user }}
PINCHFLAT_DATABASE_PASSWORD_FILE=/run/secrets/PINCHFLAT_DATABASE_PASSWORD
{% endif %}

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

PINCHFLAT_SECURITY_HEADERS={{ pinchflat_security_headers | lower }}
PINCHFLAT_RATE_LIMITING={{ pinchflat_rate_limiting | lower }}
PINCHFLAT_RATE_LIMIT_REQUESTS={{ pinchflat_rate_limit_requests }}
PINCHFLAT_RATE_LIMIT_WINDOW={{ pinchflat_rate_limit_window }}
PINCHFLAT_CORS_ENABLED={{ pinchflat_cors_enabled | lower }}
PINCHFLAT_CROUDSEC_ENABLED={{ pinchflat_crowdsec_enabled | lower }}
PINCHFLAT_FAIL2BAN_ENABLED={{ pinchflat_fail2ban_enabled | lower }}

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

PINCHFLAT_MONITORING_ENABLED={{ pinchflat_monitoring_enabled | lower }}
PINCHFLAT_METRICS_ENABLED={{ pinchflat_metrics_enabled | lower }}
PINCHFLAT_METRICS_PORT={{ pinchflat_metrics_port }}
PINCHFLAT_HEALTH_CHECK_ENABLED={{ pinchflat_healthcheck_enabled | lower }}
PINCHFLAT_HEALTH_CHECK_INTERVAL={{ pinchflat_healthcheck_interval }}
PINCHFLAT_HEALTH_CHECK_TIMEOUT={{ pinchflat_healthcheck_timeout }}
PINCHFLAT_HEALTH_CHECK_RETRIES={{ pinchflat_healthcheck_retries }}
PINCHFLAT_HEALTH_CHECK_START_PERIOD={{ pinchflat_healthcheck_start_period }}

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

PINCHFLAT_LOG_LEVEL={{ pinchflat_log_level }}
PINCHFLAT_LOG_FORMAT={{ pinchflat_log_format }}
PINCHFLAT_LOG_RETENTION={{ pinchflat_log_retention }}

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

PINCHFLAT_CACHE_ENABLED={{ pinchflat_cache_enabled | lower }}
PINCHFLAT_CACHE_SIZE={{ pinchflat_cache_size }}
PINCHFLAT_CACHE_TTL={{ pinchflat_cache_ttl }}
PINCHFLAT_COMPRESSION_ENABLED={{ pinchflat_compression_enabled | lower }}
PINCHFLAT_COMPRESSION_LEVEL={{ pinchflat_compression_level }}

# =============================================================================
# API CONFIGURATION
# =============================================================================

PINCHFLAT_API_ENABLED={{ pinchflat_api_enabled | lower }}
PINCHFLAT_API_VERSION={{ pinchflat_api_version }}
PINCHFLAT_API_KEY_FILE=/run/secrets/PINCHFLAT_API_KEY
PINCHFLAT_API_RATE_LIMIT={{ pinchflat_api_rate_limit }}
PINCHFLAT_API_RATE_LIMIT_WINDOW={{ pinchflat_api_rate_limit_window }}

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================

PINCHFLAT_NOTIFICATIONS_ENABLED={{ pinchflat_notifications_enabled | lower }}

# Email Configuration
PINCHFLAT_EMAIL_ENABLED={{ pinchflat_email_enabled | lower }}
PINCHFLAT_EMAIL_HOST={{ pinchflat_email_host }}
PINCHFLAT_EMAIL_PORT={{ pinchflat_email_port }}
PINCHFLAT_EMAIL_USERNAME={{ pinchflat_email_username }}
PINCHFLAT_EMAIL_PASSWORD_FILE=/run/secrets/PINCHFLAT_EMAIL_PASSWORD
PINCHFLAT_EMAIL_FROM={{ pinchflat_email_from }}

# Discord Configuration
PINCHFLAT_DISCORD_ENABLED={{ pinchflat_discord_enabled | lower }}
PINCHFLAT_DISCORD_WEBHOOK={{ pinchflat_discord_webhook }}

# Slack Configuration
PINCHFLAT_SLACK_ENABLED={{ pinchflat_slack_enabled | lower }}
PINCHFLAT_SLACK_WEBHOOK={{ pinchflat_slack_webhook }}

# =============================================================================
# TRAEFIK CONFIGURATION
# =============================================================================

PINCHFLAT_TRAEFIK_ENABLED={{ pinchflat_traefik_enabled | lower }}
PINCHFLAT_TRAEFIK_NETWORK={{ pinchflat_traefik_network }}
PINCHFLAT_TRAEFIK_SSL_ENABLED={{ pinchflat_traefik_ssl_enabled | lower }}

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

PINCHFLAT_BACKUP_ENABLED={{ pinchflat_backup_enabled | lower }}
PINCHFLAT_BACKUP_RETENTION_DAYS={{ pinchflat_backup_retention_days }}
PINCHFLAT_BACKUP_INCLUDE_DATA={{ pinchflat_backup_include_data | lower }}
PINCHFLAT_BACKUP_INCLUDE_CONFIG={{ pinchflat_backup_include_config | lower }}
PINCHFLAT_BACKUP_SCHEDULE={{ pinchflat_backup_schedule }}

# =============================================================================
# HOMEPAGE INTEGRATION
# =============================================================================

PINCHFLAT_HOMEPAGE_ENABLED={{ pinchflat_homepage_enabled | lower }}
PINCHFLAT_HOMEPAGE_GROUP={{ pinchflat_homepage_group }}
PINCHFLAT_HOMEPAGE_ICON={{ pinchflat_homepage_icon }}
PINCHFLAT_HOMEPAGE_TITLE={{ pinchflat_homepage_title }}
PINCHFLAT_HOMEPAGE_DESCRIPTION={{ pinchflat_homepage_description }}

# =============================================================================
# ALERTING CONFIGURATION
# =============================================================================

PINCHFLAT_ALERTING_ENABLED={{ pinchflat_alerting_enabled | lower }}
PINCHFLAT_ALERT_SEVERITY={{ pinchflat_alert_severity }}
PINCHFLAT_ALERT_CHANNELS={{ pinchflat_alert_channels | join(',') }}

# =============================================================================
# RESOURCE LIMITS
# =============================================================================

PINCHFLAT_MEMORY_LIMIT={{ pinchflat_memory_limit }}
PINCHFLAT_MEMORY_RESERVATION={{ pinchflat_memory_reservation }}
PINCHFLAT_CPU_LIMIT={{ pinchflat_cpu_limit }}
PINCHFLAT_CPU_RESERVATION={{ pinchflat_cpu_reservation }}
PINCHFLAT_STORAGE_LIMIT={{ pinchflat_storage_limit }}

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================

TZ={{ timezone }}
PUID={{ ansible_user_id | default(1000) }}
PGID={{ ansible_user_id | default(1000) }}
