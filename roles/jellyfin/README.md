# Jellyfin Role

This role deploys and manages Jellyfin for the homelab environment. It provides modular tasks for deployment, validation, monitoring, backup, security, and homepage integration.

## Features
- Deploy and configure Jellyfin
- Traefik integration with SSL/TLS
- Monitoring and alerting integration
- Automated backup and restore
- Security hardening and compliance
- Homepage integration
- Health checks and validation

## Directory Structure
- `defaults/`: Default variables
- `handlers/`: Service handlers
- `tasks/`: Modular tasks (main, deploy, monitoring, security, backup, homepage, alerts, validate, etc.)
- `templates/`: Jinja2 templates for configs, scripts, homepage, etc.

## Usage
Include this role in your playbook:
```yaml
- hosts: all
  roles:
    - role: jellyfin
```

## Variables
See `defaults/main.yml` for all configurable options. Sensitive variables should be stored in Ansible Vault.

## Integration
- Monitoring: Prometheus, Grafana, logrotate
- Backup: Scheduled, compressed, encrypted
- Security: Hardening, access control, fail2ban, firewall
- Homepage: Service registration and status

## Validation & Health Checks
- Automated validation and health scripts for Jellyfin

## Author
Generated by Ansible Homelab Service Integration Wizard

## Configuration
- **Port**: 3004
- **Domain**: jellyfin.{{ domain }}
- **Category**: utilities
- **Stage**: stage3

## Dependencies
- None

## Environment Variables
- TZ: {{ timezone | default("UTC") }}
- PUID: {{ ansible_user_id | default(1000) }}
- PGID: {{ ansible_user_id | default(1000) }}

## Volumes
- {{ docker_config_root }}/jellyfin:/config
- {{ docker_data_root }}/media:/media
- {{ docker_logs_root }}/jellyfin:/logs
