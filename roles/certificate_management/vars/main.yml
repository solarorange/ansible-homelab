---
# Certificate monitoring settings
cert_monitor_interval: "0 0 * * *"  # Daily at midnight
cert_expiry_warning_days: 30
cert_rotation_interval: "0 0 1 * *"  # Monthly on the 1st

# Certificate pinning settings
cert_pinning_hash: "{{ lookup('pipe', 'openssl x509 -in /etc/traefik/acme.json -pubkey -noout | openssl pkey -pubin -outform der | openssl dgst -sha256 -binary | openssl enc -base64') }}"
cert_pinning_backup_hash: "{{ lookup('pipe', 'openssl x509 -in /etc/traefik/acme.json -pubkey -noout | openssl pkey -pubin -outform der | openssl dgst -sha256 -binary | openssl enc -base64') }}"

# OCSP stapling settings
ocsp_stapling_enabled: true
ocsp_stapling_verify: true
ocsp_stapling_responder: "http://ocsp.int-x3.letsencrypt.org"

# mTLS settings
mtls_enabled: true
mtls_ca_path: "/etc/traefik/certs/ca.crt"
mtls_cert_path: "/etc/traefik/certs/client.crt"
mtls_key_path: "/etc/traefik/certs/client.key"

# Notification settings
notification_enabled: true
notification_method: "email"  # Options: email, slack, discord
notification_recipient: "{{ admin_email | default("admin@" + domain) }} domain }}"
notification_sender: "cert-manager@{{ domain }}" 