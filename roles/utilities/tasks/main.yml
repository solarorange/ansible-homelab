---
# Main orchestration for utilities stack

- name: Include utilities prerequisites
  ansible.builtin.include_tasks: prerequisites.yml
  tags: [utilities, prerequisites]

- name: Include utilities validation
  ansible.builtin.include_tasks: validate.yml
  tags: [utilities, validation]

- name: Include utilities container management
  ansible.builtin.include_tasks: container_management.yml
  when: utilities_container_management_enabled | default(true)
  tags: [utilities, container_management]

- name: Include utilities media processing
  ansible.builtin.include_tasks: media_processing.yml
  when: utilities_media_processing_enabled | default(true)
  tags: [utilities, media_processing]

- name: Include utilities dashboards
  ansible.builtin.include_tasks: dashboards.yml
  when: utilities_dashboards_enabled | default(true)
  tags: [utilities, dashboards]

- name: Include utilities monitoring
  ansible.builtin.include_tasks: monitoring.yml
  when: utilities_monitoring_enabled | default(true)
  tags: [utilities, monitoring]

- name: Include utilities security
  ansible.builtin.include_tasks: security.yml
  when: utilities_security_enabled | default(true)
  tags: [utilities, security]

- name: Include utilities backup
  ansible.builtin.include_tasks: backup.yml
  when: utilities_backup_enabled | default(true)
  tags: [utilities, backup]

- name: Include utilities homepage
  ansible.builtin.include_tasks: homepage.yml
  when: utilities_homepage_enabled | default(true)
  tags: [utilities, homepage]

- name: Include utilities deployment validation
  ansible.builtin.include_tasks: validate_deployment.yml
  tags: [utilities, validation] 